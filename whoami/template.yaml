---
kind: compose
metadata:
  name: Whoami
  description: >
    Whoami is a simple web application that displays information about the HTTP request it receives.
    It is often used for testing and debugging purposes to verify that a web server or reverse proxy is functioning correctly.


    Project: https://github.com/traefik/whoami

    Documentation: https://traefik.io/docs/

    GitHub: https://github.com/traefik/whoami
  version: 0.1.0
  author: Christian Lempa
  date: '2025-09-28'
  tags:
    - reverse-proxy
    - testing
  draft: true
spec:
  # Ansible deployment configuration
  service_name: "whoami"
  container_name: "whoami"
  traefik_enabled: false
  traefik_tls_enabled: false
  traefik_tls_certresolver: cf
  traefik_entrypoint: web
  traefik_tls_entrypoint: websecure
  traefik_host: "whoami.example.dk"
  ports_enabled: false
  network_enabled: false
  restart_policy: "unless-stopped"
  whoami_version: latest
  
  # Config templates and files for Ansible to render
  config_templates: []
  config_files: []
  
  # Original spec for CLI tool
  ports:
    vars:
      ports_http:
        description: "Host port for HTTP (80)"
        type: int
        default: 80
      ports_https:
        description: "Host port for HTTPS (443)"
        type: int
        default: 443
  general:
    vars:
      whoami_version:
        type: str
        description: Whoami version
        default: latest
