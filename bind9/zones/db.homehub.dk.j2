$TTL 86400
@       IN      SOA     ns1.{{ domain_name }}. {{ contact_email | replace('@', '.') }}. (
                        2025102601         ; Serial (YYYYMMDDNN)
                        3600               ; Refresh
                        1800               ; Retry
                        604800             ; Expire
                        86400 )            ; Minimum TTL

; Name servers
@       IN      NS      ns1.{{ domain_name }}.

; DNS Server
ns1     IN      A       10.2.1.130

; Proxmox Hosts
prx-prod-1              IN      A       10.2.0.200
prx-prod-2              IN      A       10.2.0.203

; Proxmox Backup Server
pbs-prod-1              IN      A       10.2.0.135

; LXC Containers (format: lxc-prod-X.prx-prod-Y.homehub.dk)
lxc-prod-1.prx-prod-1   IN      A       10.2.0.130
lxc-prod-2.prx-prod-1   IN      A       10.2.1.130
lxc-prod-3.prx-prod-1   IN      A       10.2.10.130

; VM Servers (format: srv-prod-X.prx-prod-Y.homehub.dk)
srv-prod-1.prx-prod-2   IN      A       10.2.0.190

; AI Services - Public (via Traefik on lxc-prod-2)
frontend                IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.
backend                 IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.
chat                    IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.
openai                  IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.

; AI Services - Internal (Management server, no public access)
ollama                  IN      CNAME   srv-prod-1.prx-prod-2.homehub.dk.
qdrant                  IN      CNAME   srv-prod-1.prx-prod-2.homehub.dk.

; Management Services (via Traefik on srv-prod-1)
gitlab.home             IN      CNAME   srv-prod-1.prx-prod-2.homehub.dk.

; Home Assistant (format: ha-prod-X.prx-prod-Y.homehub.dk)
ha-prod-1.prx-prod-1    IN      A       10.2.1.200

; Services (running behind Traefik on lxc-prod-2)
; All services use CNAME to point to the Traefik host
traefik                 IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.
authentik               IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.
ai                      IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.
whoami                  IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.
wazuh                   IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.
checkmk                 IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.
glance                  IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.
n8n                     IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.
jellyfin                IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.

; Home Assistant points to its dedicated VM
ha                      IN      CNAME   ha-prod-1.prx-prod-1.homehub.dk.

; IoT Services routing through Traefik on lxc-prod-2
z2m.home                IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.
ha.home                 IN      CNAME   lxc-prod-2.prx-prod-1.homehub.dk.

