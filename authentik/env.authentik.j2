# Authentik Environment Variables
# Generated by Ansible

# PostgreSQL Connection
AUTHENTIK_POSTGRESQL__HOST={{ service_name }}-postgres
AUTHENTIK_POSTGRESQL__NAME={{ postgres_db }}
AUTHENTIK_POSTGRESQL__USER={{ postgres_user }}
AUTHENTIK_POSTGRESQL__PASSWORD={{ database_password }}

# Redis Connection  
AUTHENTIK_REDIS__HOST={{ service_name }}-redis

# Authentik Secret Key (keep this secret!)
AUTHENTIK_SECRET_KEY={{ authentik_secret_key }}

{% if email_host is defined %}
# Email Configuration
AUTHENTIK_EMAIL__HOST={{ email_host }}
AUTHENTIK_EMAIL__PORT={{ email_port }}
AUTHENTIK_EMAIL__USERNAME={{ email_username }}
AUTHENTIK_EMAIL__PASSWORD={{ email_password }}
AUTHENTIK_EMAIL__FROM={{ email_from }}
AUTHENTIK_EMAIL__USE_SSL={{ email_use_ssl }}
AUTHENTIK_EMAIL__USE_TLS={{ email_use_tls }}
AUTHENTIK_EMAIL__TIMEOUT={{ email_timeout }}
{% endif %}

# Error Reporting (set to false in production to avoid sending data to Sentry)
AUTHENTIK_ERROR_REPORTING__ENABLED=false

